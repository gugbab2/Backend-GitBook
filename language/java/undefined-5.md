# 메소드가 실행될 때 어떤일이 일어나는가?

* 우리가 .java 파일을 컴파일 하고 .class 파일을 생성하는 시작점은 어디일까?\
  \-> 틀린 답 : 현재폴더?\
  \-> 맞는 답 : ClassPath
* ClassPath&#x20;
  * 말 그대로 클래스를 찾기위한 경로로써 JVM 이 클래스파일을 찾는데 기준이 되는 경로를 의미한다.&#x20;
  * ClassPath 를 지정하는 방법
    * 환경변수 CLASSPATH 를 사용 (아마 InteliJ 와 같은 IDE 를 사용하게 되면 자동으로 지정)
    * Java Runtime 에 -classpath 플래그를 사용하는 방법&#x20;

## 메소드가 실행될 때 일어나는 일의 순서

1. .java 파일을 컴파일 한 결과인, .class(바이트 코드) 파일이 생성된다.&#x20;
2. JVM 은 ClassPath 에 저장된 .class 파일을 읽어들이고, 메서드(Perm) 영역에 클래스 수준의 정보를 저장한다.\
   \-> 이 과정을 통해 JVM 은 해당 클래스의 static 정보와 인스턴스 정보를 파악하게 된다.&#x20;
3. 프로그램의 시작점인 main 메서드를 찾고 실행하게 된다.&#x20;
4. Stack 영역에 main 에서 실행된 메서드 정보를 올리게 된다. \
   \-> Stack 영역에 저장된 실행 정보 하나를 StackFrame 이라고 표현한다. \
   \-> StackFrame 안에 해당 메서드의 매개변수, 지역변수 등 정보가 저장된다. \
   \-> StackFrame 은 메서드 단위로 생성된다.&#x20;
5. Heap 영역에 Stack 영역에서 참조하는 인스턴스의 정보가 저장된다.&#x20;
6. 메서드가 실행이 종료됨에 따라, StackFrame 은 Stack 영역에서 사라진다.&#x20;
7. Heap 영역의 할당된 자원도 자동적으로 반환된다.(GC)
