# static 기본

## static 키워드 개념

* static 변수 : 모든 클래스에서 공유할 수 있는 변수로, 클래스 로딩 시에 클래스 영역에 할당 된다.\
  \-> 인스턴스 생성 없이 클래스 이름을 통해서 접근할 수 있다.
* static 클래스 : 객체의 생성 없이 클래스 이름을 통해서 메서드를 호출할 수 있다. 인스턴스 변수에 접근할 수 없으며(인스턴스가 생성되기 이전에 static 메서드가 생성되기 때문에, 시점에 차이가 있다) 주로, 유틸리티 메서드 등에 사용된다.

## static 키워드 사용시 문제점

* 상태공유 : static 변수는 모든 인스턴스가 공유하는 변수이다. 때문에, 하나의 상태를 변경하면 모든 인스턴스에 영향을 미치기 때문에, 예상하지 못한 결과를 가져올 수 있다.
* 스레드 안정성 문제 : 여러 스레드가 동시에 static 변수를 수정하면 동기화 문제가 발생할 수 있습니다. 동시 수정에 대한 적절한 동기화 처리가 이루어지지 않으면 잘못된 결과가 나올 수 있습니다.
* 객체지향 원칙 위배 : static 메서드는 객체 지향 프로그래밍의 개념과 어울리지 않는 경우가 있습니다. 객체의 상태에 대한 작업을 수행하지 않고 전역적인 동작을 수행할 수 있어서 객체 지향 설계 원칙 중 하나인 캡슐화를 위반 할 수 있습니다.
* 테스트 및 확장에 어려움 : static 메서드는 다른 클래스나 인터페이스에 의존하지 않고 독립적으로 실행되기 때문에, 테스트가 어려울 수 있습니다. 또한, 상속과 같은 객체 지향 개념을 적용하기 어려워 확장성에 제약을 줄 수 있습니다.

## 해당 클래스 코드가 맨 처음 사용될 때 로딩 되는 static 영역

#### 클래스 코드가 처음 사용될 때 (이 떄 단 한번 해당 클래스의 static 블록이 실행된다.)

* 클래스의 정적 속성을 사용할 때
* 클래스의 정적 메서드를 사용할 때
* 클래스의 인스턴스를 최초로 만들 때

#### 왜 프로그램이 실행될 때 바로 클래스 정보를 메모리의 static 영역에 로딩하지 않고, 해당 클래스가 처음 사용될 때 로딩하는 것일까?

* 스태틱 영역도 메모이기 때문이다.\
  \-> 메모리는 최대한 늦게 사용하고, 최대한 빨리 반환하는 것이 정석이다..\
  \-> 물론 자바에서 스태틱 영역에 한번 올라가면 프로그램이 종료되기 전까지 해당 메모리를 반환할 수 없지만, 그럼에도 최대한 늦게 로딩함으로써 메모리 사용을 최대한 늦추기 위해서다.
