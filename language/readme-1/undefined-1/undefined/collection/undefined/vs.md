# 이진 탐색 트리 vs 레드 블랙 트리

## 이진 탐색 트리 (Binary Search Tree)

<figure><img src="../../../../../../.gitbook/assets/image (8) (2).png" alt="" width="347"><figcaption></figcaption></figure>

#### 정의&#x20;

* 이진 탐색 트리는 이진 트리의 한 종류로, 각 노드의 값이 특정 규칙을 따르도록 구성된 트리이다.&#x20;
* 이 규칙 덕분에 빠른 검색, 삽입, 삭제 연산을 수행할 수 있다.&#x20;

#### 규칙&#x20;

* 왼쪽 서브트리의 모든 노드는 부모 노드보다 작은 값을 가진다.&#x20;
* 오른쪽 서브트리의 모든 노드는 부모 노드보다 큰 값을 가진다.&#x20;

#### 주요 연산&#x20;

* **검색 : 주어진 값을 찾기 위해, 루트에서 시작하여 값을 비교한다. 찾는 값이 현재 노드보다 작으면 왼쪽으로, 크면 오른쪽으로 이동한다.**&#x20;
* **삽입 : 삽일할 값을 찾을 위치까지 이동한 후, 빈 자리에 삽입한다.**&#x20;
* **삭제 : 삭제할 노드를 찾은 후 경우에 따라서 3가지 케이스로 나뉜다.**&#x20;
  * 자식이 없는 경우 : 단순히 노드를 삭제&#x20;
  * 자식이 하나 있는 경우 : 자식을 부모 노드에 연결&#x20;
  * 자식이 둘 있는 경우 : 오른쪽 서브트리에서 가장 작은 값은 찾아 대체&#x20;

#### 시간 복잡도&#x20;

* **최선의 경우 : 트리가 균형 잡힌 경우 검색, 삽입, 삭제 모두 O(log n)**&#x20;
* **최악의 경우 : 트리가 한쪽으로 치우치면 O(n)** \
  **-> 정렬된 데이터에 해당**

#### **문제점**

* 균형이 깨지게 되면 트리가 한쪽으로 치우쳐져 성능이 O(n) 까지 떨어질 수 있다.&#x20;

## 레드 블랙 트리 (Red Black Tree)&#x20;

<figure><img src="../../../../../../.gitbook/assets/image (2) (2).png" alt="" width="523"><figcaption></figcaption></figure>

#### 정의&#x20;

* 레드 블랙 트리는 균형 이진 탐색 트리의 한 종류로, 노드가 레드 또는 블랙으로 색칠되며, 특정 규칙을 통해 트리의 균형을 유지한다.&#x20;
* **이를 통해 검색, 삽입, 삭제 연산의 시간 복잡도가 항상 O(log n) 이 되도록 보장한다.**&#x20;

#### 규칙&#x20;

1. **각 노드는 레드 또는 블랙**&#x20;
2. **루트 노드는 항상 블랙**&#x20;
3. **모든 리프 노드는 블랙** \
   \-> 리프 노드는 자식 노드가 없는 노드를 의미한다. \
   \-> 리프 노드는 NIL 노드로 표현되는 경우가 많다. NIL은 실제 데이터를 가지고 있지 않으며, 단순히 트리의 끝을 나타내는 가상의 노드입니다.\
   \-> 레드 블랙 트리의 균형을 유지하는 중요한 조건 중 하나가 모든 경로에서 만나는 블랙 노드의 수가 같다는 점이다. 이를 블랙 높이라 표현하는데, 모든 리프 노드를 검은색으로 설정하면, 트리의 모든 경로에서 블랙 높이가 같도록 유지할 수 있다.
4. **레드 노드의 자식은 모두 블랙**&#x20;
5. **모든 경로에서 블랙의 높이는 동일**

#### 주요 연산&#x20;

* 검색 : 이진 탐색 트리와 동일하게 값을 비교하면서 이동한다.&#x20;
* 삽입 : 새로운 값을 삽인한 후, 트리의 규칙을 위반하는지 살펴보고, 필요하다면 재색칠하거나 회전 연산을 수행하여 균형을 유지한다.&#x20;
* 삭제 : 삭제한 후에도 마찬가지로 규칙을 위반하는지 확인하고, 필요할 경우 재구성을 통해 균형을 유지한다 .

#### 시간 복잡도&#x20;

* 검색, 삽입, 삭제 : 항상 O(log n) \
  \-> 트리의 균형을 유지하기 때문에, 최악의 경우라는 개념이 없다.&#x20;

#### 균형 유지 (규칙을 지치기 위한 동작)

* 재색칠 : 노드의 색을 변경하여 규칙을 충족시킨다.&#x20;
* 회전 : 트리의 구조를 왼쪽회전 또는 오른쪽 회전하여 균형을 유지한다.&#x20;
