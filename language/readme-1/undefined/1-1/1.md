# ìŠ¤ë ˆë“œ ì œì–´ì™€ ìƒëª… ì£¼ê¸°1

## 1. ìŠ¤ë ˆë“œ ê¸°ë³¸ ì •ë³´

```java
import thread.start.HelloRunnable;
import static util.MyLogger.log;

public class ThreadInfoMain {
   public static void main(String[] args) { // main ìŠ¤ë ˆë“œ
      Thread mainThread = Thread.currentThread();
      log("mainThread = " + mainThread);
      log("mainThread.threadId() = " + mainThread.threadId());
      log("mainThread.getName() = " + mainThread.getName());
      log("mainThread.getPriority() = " + mainThread.getPriority()); // 1~10(ê¸°ë³¸ê°’ 5)
      log("mainThread.getThreadGroup() = " + mainThread.getThreadGroup()); 
      log("mainThread.getState() = " + mainThread.getState());
                  
      // myThread ìŠ¤ë ˆë“œ
      Thread myThread = new Thread(new HelloRunnable(), "myThread"); 
      log("myThread = " + myThread);
      log("myThread.threadId() = " + myThread.threadId()); 
      log("myThread.getName() = " + myThread.getName()); 
      log("myThread.getPriority() = " + myThread.getPriority()); 
      log("myThread.getThreadGroup() = " + myThread.getThreadGroup()); 
      log("myThread.getState() = " + myThread.getState());
   } 
}
```

#### ìŠ¤ë ˆë“œ ìƒì„±&#x20;

**ìŠ¤ë ˆë“œ ìƒì„± ì‹œ ì‹¤í–‰í• ** `Runnable` **ì¸í„°í˜ì´ìŠ¤ì™€ ìŠ¤ë ˆë“œì˜ ì´ë¦„ì„ ì „ë‹¬í•  ìˆ˜ ìˆë‹¤.**

* `Runnable` ì¸í„°í˜ì´ìŠ¤ : ì‹¤í–‰í•  ì‘ì—…ì„ ì„œìˆ í•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.
* ìŠ¤ë ˆë“œ ì´ë¦„ : ìŠ¤ë ˆë“œ ì´ë¦„ì€ ë””ë²„ê¹…ì´ë‚˜ ë¡œê¹… ëª©ì ìœ¼ë¡œ ìœ ìš©í•˜ë‹¤.
  * ì§€ì •í•˜ì§€ ì•Šì„ ê²½ìš° `Thread-0`, `Thread-1` ê³¼ ê°™ì€ ì„ì˜ì˜ ì´ë¦„ì´ ìƒì„±ëœë‹¤.

```java
Thread myThread = new Thread(new HelloRunnable(), "myThread");
```

#### ìŠ¤ë ˆë“œ ê°ì²´ ì •ë³´

ë§Œë“  ìŠ¤ë ˆë“œ ê°ì²´ë¥¼ ë¬¸ìì—´ë¡œ ë³€í™˜í•˜ì—¬ ì¶œë ¥í•œë‹¤. (ìë™ì ìœ¼ë¡œ `Thread.toString()` ì‚¬ìš©)

* ex, `Thread[#21,myThread,5,main]`

```java
log("myThread = " + myThread);
```

#### ìŠ¤ë ˆë“œ ID&#x20;

`threadId()` : ìŠ¤ë ˆë“œ ê³ ìœ ì˜ ì‹ë³„ìë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ìŠ¤ë ˆë“œ ID ëŠ” JVM ë‚´ì—ì„œ ê° ìŠ¤ë ˆë“œì— ëŒ€í•´ ìœ ì¼í•˜ë‹¤. \
ìŠ¤ë ˆë“œ ID ëŠ” ìŠ¤ë ˆë“œê°€ ìƒì„±ë  ë•Œ í• ë‹¹ë˜ë©°, ì§ì ‘ ì§€ì •í•  ìˆ˜ ì—†ë‹¤.

```java
log("myThread.threadId() = " + myThread.threadId());
```

#### ìŠ¤ë ˆë“œ ì´ë¦„&#x20;

`getName()` : ìŠ¤ë ˆë“œì˜ ì´ë¦„ì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤. ìƒì„±ìì—ì„œ `"myThread"` ë¼ëŠ” ì´ë¦„ì„ ì§€ì •í–ˆê¸° ë•Œë¬¸ì—, \
ì´ ê°’ì´ ë°˜í™˜ëœë‹¤. ì°¸ê³ ë¡œ ìŠ¤ë ˆë“œ ID ëŠ” ì¤‘ë³µë˜ì§€ ì•Šì§€ë§Œ ìŠ¤ë ˆë“œ ì´ë¦„ì€ ì¤‘ë³µë  ìˆ˜ ìˆë‹¤.

```java
log("myThread.getName() = " + myThread.getName());
```

#### ìŠ¤ë ˆë“œ ìš°ì„ ìˆœìœ„&#x20;

`getPriority()` : ìŠ¤ë ˆë“œì˜ ìš°ì„ ìˆœìœ„ë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤.&#x20;

* ìš°ì„ ìˆœìœ„ëŠ” 1(ê°€ì¥ ë‚®ìŒ) ë¶€í„° 10(ê°€ì¥ ë†’ìŒ) ê¹Œì§€ì˜ ê°’ìœ¼ë¡œ ì„¤ì •í•  ìˆ˜ ìˆìœ¼ë©°, ê¸°ë³¸ê°’ì€ 5ì´ë‹¤.
* `setPriority()` ë¥¼ í†µí•´ì„œ ìš°ì„ ìˆœìœ„ë¥¼ ë³€ê²½í•  ìˆ˜ ìˆë‹¤.

ìš°ì„ ìˆœìœ„ëŠ” ìŠ¤ë ˆë“œ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ì–´ë–¤ ìŠ¤ë ˆë“œë¥¼ ìš°ì„  ì‹¤í–‰í• ì§€ ê²°ì •í•˜ëŠ” ë° ì‚¬ìš©ëœë‹¤. \
í•˜ì§€ë§Œ ì‹¤ì œ ì‹¤í–‰ ìˆœì„œëŠ” JVM êµ¬í˜„ê³¼ ìš´ì˜ì²´ì œì— ë”°ë¼ì„œ ë‹¬ë¼ì§ˆ ìˆ˜ ìˆë‹¤.

```java
log("myThread.getPriority() = " + myThread.getPriority()); 
```

#### ìŠ¤ë ˆë“œ ê·¸ë£¹&#x20;

`getThreadGroup()` : ìŠ¤ë ˆë“œê°€ ì†í•œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì„ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤.&#x20;

* ìŠ¤ë ˆë“œ ê·¸ë£¹ì€ ìŠ¤ë ˆë“œë¥¼ ê·¸ë£¹í™”í•˜ì—¬ ê´€ë¦¬í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.&#x20;
* ê¸°ë³¸ì ìœ¼ë¡œ ëª¨ë“  ìŠ¤ë ˆë“œëŠ” ë¶€ëª¨ ìŠ¤ë ˆë“œì™€ ë™ì¼í•œ ìŠ¤ë ˆë“œ ê·¸ë£¹ì— ì†í•˜ê²Œ ëœë‹¤.&#x20;

ìŠ¤ë ˆë“œ ê·¸ë£¹ì€ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ í•˜ë‚˜ì˜ ê·¸ë£¹ìœ¼ë¡œ ë¬¶ì–´ì„œ íŠ¹ì • ì‘ì—…(ì¼ê´„ ì¢…ë£Œ, ìš°ì„ ìˆœìœ„ ì„¤ì • ë“±.. ) ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë‹¤.&#x20;

ë¶€ëª¨ ìŠ¤ë ˆë“œ(Parent Thread) : ìƒˆë¡œìš´ ìŠ¤ë ˆë“œë¥¼ ìƒì„±í•˜ëŠ” ìŠ¤ë ˆë“œë¥¼ ì˜ë¯¸í•œë‹¤.&#x20;

* ìŠ¤ë ˆë“œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ì˜í•´ì„œ ìƒì„±ëœë‹¤.&#x20;
* **ì´ëŸ¬í•œ ìƒì„± ê´€ê³„ì—ì„œ ìƒˆë¡œ ìƒì„±ëœ ìŠ¤ë ˆë“œëŠ” ìƒì„±í•œ ìŠ¤ë ˆë“œë¥¼ ë¶€ëª¨ë¡œ ê°„ì£¼í•œë‹¤.**&#x20;

ìŠ¤ë ˆë“œ ê·¸ë£¹ ê¸°ëŠ¥ì€ ì§ì ‘ì ìœ¼ë¡œ ì˜ ì‚¬ìš©í•˜ì§€ëŠ” ì•Šê¸°ì—, ìˆêµ¬ë‚˜ ì •ë„ë¡œ ì•Œì•„ë‘ì ..&#x20;

```java
log("myThread.getThreadGroup() = " + myThread.getThreadGroup());
```

#### ìŠ¤ë ˆë“œ ìƒíƒœ&#x20;

`getState()` : ìŠ¤ë ˆë“œì˜ í˜„ì¬ ìƒíƒœë¥¼ ë°˜í™˜í•˜ëŠ” ë©”ì„œë“œì´ë‹¤.\
ë°˜í™˜ë˜ëŠ” ê°’ì€ `Thread.State` ì—´ê±°í˜•ì— ì •ì˜ëœ ìƒìˆ˜ ì¤‘ í•˜ë‚˜ì´ë‹¤. ì£¼ìš” ìƒíƒœëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

* `NEW` : ìŠ¤ë ˆë“œê°€ ì•„ì§ ì‹œì‘ë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤ .
* `RUNNABLE` : ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜, ì‹¤í–‰ë  ì¤€ë¹„ê°€ ëœ ìƒíƒœì´ë‹¤.&#x20;
* `BLOCKED` : ìŠ¤ë ˆë“œê°€ ë™ê¸°í™” ë½ì„ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.&#x20;
* `WAITING` : ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ íŠ¹ì • ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.&#x20;
* `TIMED_WAITING` : ì¼ì • ì‹œê°„ ë™ì•ˆ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.&#x20;
* `TERMINATED` : ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ì„ ë§ˆì¹œ ìƒíƒœì´ë‹¤.&#x20;

```java
log("myThread.getState() = " + myThread.getState());
```

## 2. ìŠ¤ë ˆë“œì˜ ìƒëª… ì£¼ê¸°&#x20;

<figure><img src="../../../../.gitbook/assets/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-09 14.26.49.png" alt="" width="563"><figcaption></figcaption></figure>

### ìŠ¤ë ˆë“œì˜ ìƒíƒœ&#x20;

* **`New`** : ìŠ¤ë ˆë“œê°€ ì•„ì§ ì‹œì‘ë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤.
* **`Runnable`** : ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ ì¤‘ì´ê±°ë‚˜, ì‹¤í–‰ ë  ì¤€ë¹„ê°€ ëœ ìƒíƒœì´ë‹¤.&#x20;
  * ìŠ¤ì¼€ì¤„ëŸ¬ì— ë“¤ì–´ê°„ ìƒíƒœë„ `Runnable` ì´ë‹¤.&#x20;
* ì¼ì‹œ ì¤‘ì§€ ìƒíƒœë“¤ (ìë°” ìŠ¤ë ˆë“œì—ì„œ í•´ë‹¹ ë‹¨ì–´ëŠ” ì—†ë‹¤.. ì•Œì•„ë“£ê¸° ì‰½ê²Œ ì‚¬ìš©í•œ ë‹¨ì–´ì´ë‹¤)
  * **`Blocked`** : ìŠ¤ë ˆë“œê°€ ë™ê¸°í™” ë½ì„ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.
  * **`Waiting`** : ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ íŠ¹ì • ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.&#x20;
  * **`Timed Waiting`** : ì¼ì • ì‹œê°„ ë™ì•ˆ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.&#x20;
* **`Terminated`** : ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ì„ ë§ˆì¹œ ìƒíƒœì´ë‹¤.

#### New (ìƒˆë¡œìš´ ìƒíƒœ)

ìŠ¤ë ˆë“œê°€ ìƒì„±ë˜ê³  ì•„ì§ ì‹œì‘ë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤.&#x20;

ì´ ìƒíƒœì—ì„œëŠ” `Thread` ê°ì²´ê°€ ìƒì„±ë˜ì§€ë§Œ, `start()` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ì§€ ì•Šì€ ìƒíƒœì´ë‹¤.&#x20;

* ex, `Thread thread = new Thread(runnable());`

#### Runnable (ì‹¤í–‰ ê°€ëŠ¥ ìƒíƒœ)&#x20;

ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë  ì¤€ë¹„ê°€ ëœ ìƒíƒœì´ë‹¤. ì´ ìƒíƒœì—ì„œ ìŠ¤ë ˆë“œëŠ” ì‹¤ì œë¡œ CPU ì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆë‹¤.\
(ìŠ¤ì¼€ì¤„ëŸ¬ì— ë“¤ì–´ê°ˆ ì¤€ë¹„ê°€ ì™„ë£Œëœ ìƒíƒœë¼ê³  ìƒê°í•˜ì)

`start()` ë©”ì„œë“œê°€ í˜¸ì¶œë˜ë©´ ìŠ¤ë ˆë“œëŠ” `Runnable` ìƒíƒœê°€ ëœë‹¤.

* ex, `thread.start();`

**ì´ ìƒíƒœëŠ” ìŠ¤ë ˆë“œê°€ ì‹¤í–‰ë  ì¤€ë¹„ê°€ ë˜ì–´ ìˆìŒì„ ë‚˜íƒ€ë‚´ë©°, ì‹¤ì œë¡œ CPU ì—ì„œ ì‹¤í–‰ë  ìˆ˜ ìˆëŠ” ìƒíƒœì´ë‹¤.**&#x20;

**ê·¸ëŸ¬ë‚˜** `Runnable` **ìƒíƒœì— ìˆëŠ” ëª¨ë“  ìŠ¤ë ˆë“œê°€ ë™ì‹œì— ì‹¤í–‰ë˜ëŠ” ê²ƒì€ ì•„ë‹ˆë‹¤.**

**ìš´ì˜ì²´ì œì˜ ìŠ¤ì¼€ì¤„ëŸ¬ê°€ ê° ìŠ¤ë ˆë“œì— CPU ì‹œê°„ì„ í• ë‹¹í•˜ì—¬ ì‹¤í–‰í•˜ê¸° ë•Œë¬¸ì—,** `Runnable` **ìƒíƒœì— ìˆëŠ” ìŠ¤ë ˆë“œëŠ”** \
**ìŠ¤ì¼€ì¤„ëŸ¬ì˜ ì‹¤í–‰ ëŒ€ê¸°ì—´ì— í¬í•¨ë˜ì–´ ìˆë‹¤ê°€ ì°¨ë¡€ë¡œ CPU ì—ì„œ ì‹¤í–‰ëœë‹¤.**

* ì°¸ê³ ë¡œ ìš´ì˜ì²´ì œ ìŠ¤ì¼€ì¤„ëŸ¬ì˜ ì‹¤í–‰ ëŒ€ê¸°ì—´ì— ìˆë“ , CPU ì—ì„œ ì‹¤ì œ ì‹¤í–‰ë˜ê³  ìˆë“  ëª¨ë‘ `Runnable` ìƒíƒœì´ê¸° \
  ë•Œë¬¸ì—, ìë°”ì—ì„œ ë‘˜ì„ êµ¬ë¶„í•´ì„œ ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ë‹¤.
* ì‹¤ì œë¡œ ìš´ì˜ì²´ì œì—ì„œ ìœ„ ë‘ê°€ì§€ ìƒíƒœê°€ ë„ˆë¬´ ë¹ ë¥´ê²Œ ë³€ê²½ë˜ê¸°ì— ìë°”ì—ì„œ í™•ì¸í•˜ëŠ” ê²ƒì´ ì˜ë¯¸ë„ ì—†ì„ ê²ƒì´ë‹¤.  &#x20;

#### Blocked (ì°¨ë‹¨ ìƒíƒœ)

ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì— ì˜í•´ ë™ê¸°í™” ë½ì„ ì–»ê¸° ìœ„í•´ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.

* ex, `synchronized` ë¸”ë¡ì— ì§„ì…í•˜ê¸° ìœ„í•´ì„œ ë½ì„ ì–»ì–´ì•¼ í•˜ëŠ” ê²½ìš° ì´ ìƒíƒœì— ë“¤ì–´ê°„ë‹¤.

#### Waiting (ëŒ€ê¸° ìƒíƒœ)

ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ íŠ¹ì • ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ë¬´ê¸°í•œ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.

* `wait()`, `join()` ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ ì´ ìƒíƒœê°€ ëœë‹¤.
* ìŠ¤ë ˆë“œëŠ” ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ `notify()`, `notifyAll()` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ê±°ë‚˜, `join()` ì´ ì™„ë£Œë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.

#### Timed Waiting (ì‹œê°„ ì œí•œ ëŒ€ê¸° ìƒíƒœ)&#x20;

ìŠ¤ë ˆë“œê°€ íŠ¹ì • ì‹œê°„ ë™ì•ˆ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.

* `sleep(long millis)` , `wait(long timeout)`,  `join(long millis)` ë©”ì„œë“œê°€ í˜¸ì¶œë  ë•Œ ì´ ìƒíƒœê°€ ëœë‹¤.
* ì£¼ì–´ì§„ ì‹œê°„ì´ ê²½ê³¼í•˜ê±°ë‚˜ ë‹¤ë¥¸ ìŠ¤ë ˆë“œê°€ í•´ë‹¹ ìŠ¤ë ˆë“œë¥¼ ê¹¨ìš°ë©´ ì´ ìƒíƒœë¥¼ ë²—ì–´ë‚œë‹¤.

#### Terminated (ì¢…ë£Œ ìƒíƒœ)&#x20;

* ìŠ¤ë ˆë“œì˜ ì‹¤í–‰ì´ ì™„ë£Œëœ ìƒíƒœì´ë‹¤.
* ìŠ¤ë ˆë“œê°€ ì •ìƒì ìœ¼ë¡œ ì¢…ë£Œë˜ê±°ë‚˜, ì˜ˆì™¸ê°€ ë°œìƒí•˜ì—¬ ì¢…ë£Œëœ ê²½ìš° ì´ ìƒíƒœë¡œ ë“¤ì–´ê°„ë‹¤.
* ìŠ¤ë ˆë“œëŠ” í•œ ë²ˆ ì¢…ë£Œë˜ë©´ ë‹¤ì‹œ ì‹œì‘í•  ìˆ˜ ì—†ë‹¤.

```java
import static util.MyLogger.log;

public class ThreadStateMain {
    public static void main(String[] args) throws InterruptedException {
        Thread thread = new Thread(new MyRunnable(), "myThread");    // new
        log("myThread.state1 = " + thread.getState());
        log("myThread.start()");
        thread.start();    // runnable 
        Thread.sleep(1000);    // time waiting
        log("myThread.state3 = " + thread.getState());
        Thread.sleep(4000);    // time waiting
        log("myThread.state5 = " + thread.getState());
        // terminated
    }

    static class MyRunnable implements Runnable {

        @Override
        public void run() {

            try {
                log("start");
                log("myThread.state2 = " + Thread.currentThread().getState());
                log("sleep start");
                Thread.sleep(3000);    // time waiting 
                log("sleep end");
                log("myThread.state4 = " + Thread.currentThread().getState());
                log("end");
            } catch (InterruptedException e) {
                throw new RuntimeException(e);
            }
        }
    }
}
```

<figure><img src="../../../../.gitbook/assets/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-09 15.12.07.png" alt="" width="563"><figcaption></figcaption></figure>

## 3. ì²´í¬ ì˜ˆì™¸ ì¬ì •ì˜&#x20;

### ğŸ“˜ ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©(ì¬ì •ì˜)ì™€ ì˜ˆì™¸ ì²˜ë¦¬ ê·œì¹™

ìë°”ì—ì„œ ë©”ì„œë“œ ì˜¤ë²„ë¼ì´ë”©ì„ í•  ë•Œ ì—„ê²©í•œ ê·œì¹™ì´ ìˆë‹¤.

#### âœ… ì²´í¬ ì˜ˆì™¸(Checked Exception) ê´€ë ¨ ê·œì¹™

* **ë¶€ëª¨ ë©”ì„œë“œê°€ ë˜ì§€ëŠ” ì˜ˆì™¸ or ê·¸ë³´ë‹¤ ë” ì¢ì€ ë²”ìœ„ë§Œ ìì‹ ë©”ì„œë“œì—ì„œ ë˜ì§ˆ ìˆ˜ ìˆë‹¤.**
* **ë¶€ëª¨ ë©”ì„œë“œê°€ ì²´í¬ ì˜ˆì™¸ë¥¼ ì•ˆ ë˜ì§€ë©´, ìì‹ ë©”ì„œë“œë„ ì²´í¬ ì˜ˆì™¸ë¥¼ ë˜ì§ˆ ìˆ˜ ì—†ë‹¤.**

```java
// ì˜ˆì‹œ
class Parent {
    void method() { }  // ì˜ˆì™¸ ì•ˆ ë˜ì§
}

class Child extends Parent {
    @Override
    void method() throws IOException { }  // âŒ ì»´íŒŒì¼ ì—ëŸ¬ (ë¶€ëª¨ê°€ ì˜ˆì™¸ ì•ˆ ë˜ì§)
}
```

#### âœ… ì–¸ì²´í¬ ì˜ˆì™¸(Unchecked Exception) (ëŸ°íƒ€ì„ ì˜ˆì™¸)

* **ëŸ°íƒ€ì„ ì˜ˆì™¸ëŠ” ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ê°•ì œí•˜ì§€ ì•Šìœ¼ë¯€ë¡œ ìƒê´€ì—†ì´ ë˜ì§ˆ ìˆ˜ ìˆë‹¤.**

### ğŸ“¦ Runnable ì¸í„°í˜ì´ìŠ¤ run() ë©”ì„œë“œ êµ¬ì¡°

```java
public interface Runnable {
    void run(); 
}
```

* **`run()` ë©”ì„œë“œëŠ” ì²´í¬ ì˜ˆì™¸ë¥¼ ì „í˜€ ë˜ì§€ì§€ ì•ŠëŠ”ë‹¤.**&#x20;
* **ê·¸ë˜ì„œ ì˜¤ë²„ë¼ì´ë“œ(ì¬ì •ì˜) í•˜ëŠ” ìª½ì—ì„œë„ ì²´í¬ ì˜ˆì™¸ë¥¼ ë°–ìœ¼ë¡œ ë˜ì§ˆ ìˆ˜ ì—†ë‹¤.**&#x20;

```java
class MyRunnable implements Runnable {
    @Override
    public void run() throws InterruptedException { }  // âŒ ì»´íŒŒì¼ ì—ëŸ¬
}
```

### ğŸ” ê·¸ëŸ¬ë©´ InterruptedExceptionì€ ì–´ë–»ê²Œ ì²˜ë¦¬?

**`try-catch` ë¡œ ì§ì ‘ ì²˜ë¦¬í•´ì•¼ í•œë‹¤.**

* **ë°–ìœ¼ë¡œ ë˜ì§€ì§€ ëª»í•˜ë¯€ë¡œ ë‚´ë¶€ì—ì„œ `catch`ë¡œ ì²˜ë¦¬í•´ì•¼ í•œë‹¤.**

```java
class MyRunnable implements Runnable {
    @Override
    public void run() {
        try {
            Thread.sleep(1000);  // InterruptedException ë°œìƒ ê°€ëŠ¥
        } catch (InterruptedException e) {
            // InterruptedException ì²˜ë¦¬
        }
    }
}
```

### ğŸ” ìë°”ëŠ” ì™œ ì´ëŸ° ì œì•½ì„ ë‘ëŠ” ê²ƒì¼ê¹Œ?&#x20;

ë¶€ëª¨ í´ë˜ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” í´ë¼ì´ì–¸íŠ¸ ì½”ë“œëŠ” ë¶€ëª¨ ë©”ì„œë“œê°€ ë˜ì§€ëŠ” íŠ¹ì • ì˜ˆì™¸ë§Œì„ ì²˜ë¦¬í•˜ë„ë¡ ì‘ì„±ëœë‹¤.

**ìì‹ í´ë˜ìŠ¤ê°€ ë” ë„“ì€ ë²”ìœ„ì˜ ì˜ˆì™¸ë¥¼ ë˜ì§€ë©´ í•´ë‹¹ ì½”ë“œëŠ” ëª¨ë“  ì˜ˆì™¸ë¥¼ ì²˜ë¦¬í•˜ì§€ ëª»í•  ìˆ˜ ìˆë‹¤.**

* **ì´ëŠ” ì˜ˆì™¸ ì²˜ë¦¬ì˜ ì¼ê´€ì„±ì„ í•´ì¹˜ê³ , ì˜ˆìƒì¹˜ ëª»í•œ ëŸ°íƒ€ì„ ì˜¤ë¥˜ë¥¼ ë°œìƒì‹œí‚¬ ìˆ˜ ìˆë‹¤.**

<pre class="language-java"><code class="lang-java"><strong>// ì•„ë˜ëŠ” ë™ì‘í•˜ì§€ ì•ŠëŠ” ì½”ë“œì´ë‹¤. 
</strong><strong>class Parent {
</strong>     void method() throws InterruptedException {
          // ...
     }
}
class Child extends Parent {
     @Override
     void method() throws Exception {
          // ...
     } 
}

public class Test {
     public static void main(String[] args) {
          Parent p = new Child();
          try {
             p.method();
          } catch (InterruptedException e) {
               // InterruptedException ì²˜ë¦¬ 
          }
     } 
}
</code></pre>

#### ì•ˆì „í•œ ì˜ˆì™¸ ì²˜ë¦¬

**ì²´í¬ ì˜ˆì™¸ë¥¼ `run()` ë©”ì„œë“œì—ì„œ ë˜ì§ˆ ìˆ˜ ì—†ë„ë¡ ê°•ì œí•¨ìœ¼ë¡œì¨, ê°œë°œìëŠ” ë°˜ë“œì‹œ ì²´í¬ ì˜ˆì™¸ë¥¼ `try-catch` ë¸”ë¡ ë‚´ì—ì„œ ì²˜ë¦¬í•˜ê²Œ ëœë‹¤. ì´ëŠ” ì˜ˆì™¸ ë°œìƒ ì‹œ ì˜ˆì™¸ê°€ ì ì ˆíˆ ì²˜ë¦¬ë˜ì§€ ì•Šì•„ì„œ í”„ë¡œê·¸ë¨ì´ ë¹„ì •ìƒ ì¢…ë£Œë˜ëŠ” ìƒí™©ì„ ë°©ì§€í•  ìˆ˜ ìˆë‹¤.**

íŠ¹íˆ ë©€í‹°ìŠ¤ë ˆë”© í™˜ê²½ì—ì„œëŠ” ì˜ˆì™¸ ì²˜ë¦¬ë¥¼ ê°•ì œí•¨ìœ¼ë¡œì¨ ìŠ¤ë ˆë“œì˜ ì•ˆì •ì„±ê³¼ ì¼ê´€ì„±ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.

í•˜ì§€ë§Œ, ì²´í¬ ì˜ˆì™¸ë¥¼ ê°•ì œí•˜ëŠ” ì´ëŸ° ë¶€ë¶„ë“¤ì€ ìë°” ì´ˆì°½ê¸° ê¸°ì¡°ì´ê³ , \
**ìµœê·¼ì—ëŠ” ì²´í¬ ì˜ˆì™¸ë³´ë‹¤ëŠ” ì–¸ì²´í¬(ëŸ°íƒ€ì„) ì˜ˆì™¸ë¥¼ ì„ í˜¸í•œë‹¤.**

### ì¬ì •ì˜ ëœ Sleep ìœ í‹¸ë¦¬í‹°&#x20;

ì´ë²ˆ ê¸€ì—ì„œëŠ” ì•„ë˜ `sleep()` ë©”ì„œë“œë¥¼ ë§ì´ ì‚¬ìš©í•  ì˜ˆì •ì´ë‹¤. ì°¸ê³ í•˜ì.

```java
import static util.MyLogger.log;

public abstract class ThreadUtils {

    public static void sleep(long millis) {
        try {
            Thread.sleep(millis);
        } catch (InterruptedException e) {
            log("ì¸í„°ëŸ½íŠ¸ ë°œìƒ, " + e.getMessage());
            throw new RuntimeException(e);
        }
    }
}
```

## 4. Join ì‹œì‘&#x20;

ì•ì„œ `Thread.sleep()` ë©”ì„œë“œë¥¼ í†µí•´ `TIMED_WAITING` ìƒíƒœë¥¼ ì•Œì•„ë³´ì•˜ë‹¤.

ì´ë²ˆì—ëŠ” `join()` ë©”ì„œë“œë¥¼ í†µí•´ `WAITING`(ëŒ€ê¸° ìƒíƒœ) ê°€ ë¬´ì—‡ì´ê³ , ì™œ í•„ìš”í•œì§€ ì•Œì•„ë³´ì.

#### Waiting (ëŒ€ê¸° ìƒíƒœ)

* ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ íŠ¹ì • ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ **ë¬´ê¸°í•œ(?!)** ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.

### join() ì´ í•„ìš”í•œ ìƒí™©

1 \~ 100 ê¹Œì§€ ë”í•˜ëŠ” ê°„ë‹¨í•œ ì½”ë“œë¥¼ ìƒê°í•´ë³´ì.

CPU ì½”ì–´ë¥¼ í•˜ë‚˜ë§Œ ì‚¬ìš©í•˜ëŠ” ê²ƒë³´ë‹¤ ì—¬ëŸ¬ ìŠ¤ë ˆë“œë¥¼ ì‚¬ìš©í•´ ë©€í‹°íƒœìŠ¤í‚¹ í•˜ëŠ” ë°©ë²•ì´ ë” íš¨ìœ¨ì ì¼ ê²ƒì´ë‹¤.&#x20;

ë•Œë¬¸ì—, 1 \~ 100 ë”í•˜ëŠ” ì—°ì‚°ì€ ë‹¤ìŒê³¼ ê°™ì´ ë‚˜ëˆŒ ìˆ˜ ìˆë‹¤.&#x20;

* 1 \~ 50 ê¹Œì§€ ë”í•˜ê¸° = 1275
* 51 \~ 100 ê¹Œì§€ ë”í•˜ê¸° = 3775

CPU ì½”ì–´ê°€ 2ê°œë¼ë©´ ì´ë¡ ì ìœ¼ë¡œ ì—°ì‚° ì†ë„ê°€ 2ë°° ë¹¨ë¼ì§„ë‹¤.

> #### ì°¸ê³  - `this` ì˜ ë¹„ë°€&#x20;
>
> #### ì–´ë–¤ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì€, **ì •í™•íˆëŠ” íŠ¹ì • ìŠ¤ë ˆë“œê°€ ì–´ë–¤ ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì´ë‹¤.**
>
> ìŠ¤ë ˆë“œëŠ” ë©”ì„œë“œì˜ í˜¸ì¶œì„ ê´€ë¦¬í•˜ê²Œ ìœ„í•´ì„œ ë©”ì„œë“œ ë‹¨ìœ„ë¡œ ìŠ¤íƒ í”„ë ˆì„ì„ ë§Œë“¤ê³ , \
> í•´ë‹¹ ìŠ¤íƒ í”„ë ˆì„ì„ ìŠ¤íƒ ìœ„ì— ìŒ“ì•„ ì˜¬ë¦°ë‹¤.
>
> **ì´ë•Œ ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ë©´, ì–´ë–¤ ì¸ìŠ¤í„´ìŠ¤ì˜ ë©”ì„œë“œë¥¼ í˜¸ì¶œí–ˆëŠ”ì§€ ê¸°ì–µí•˜ê¸° ìœ„í•´,** \
> **í•´ë‹¹ ì¸ìŠ¤í„°ìŠ¤ì˜ ì°¸ì¡° ê°’ì„ ìŠ¤íƒ í”„ë ˆì„ ë‚´ë¶€ì— ì €ì¥í•´ë‘”ë‹¤. ì´ê²ƒì´ ë°”ë¡œ ìš°ë¦¬ê°€ ìì£¼ ì‚¬ìš©í•˜ë˜ `this` ì´ë‹¤.**&#x20;
>
> * íŠ¹ì • ë©”ì„œë“œ ì•ˆì—ì„œ `this` ë¥¼ í˜¸ì¶œí•˜ë©´ ë°”ë¡œ ìŠ¤íƒí”„ë ˆì„ ì•ˆì— ìˆëŠ” `this` ê°’ì„ ë¶ˆëŸ¬ ì‚¬ìš©í•˜ê²Œ ëœë‹¤.
> * ì´ë ‡ê²Œ `this` ê°€ ìˆê¸° ë•Œë¬¸ì—, `thread-1`, `thread-2` ëŠ” ìì‹ ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ êµ¬ë¶„í•´ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.&#x20;
>
> ì •ë¦¬í•˜ìë©´, **`this` ëŠ” í˜¸ì¶œëœ ì¸ìŠ¤í„´ìŠ¤ ë©”ì„œë“œê°€ ì†Œì†ëœ ê°ì²´ë¥¼ ê°€ë¦¬í‚¤ëŠ” ì°¸ì¡°ì´ë©°,** \
> **ì´ê²ƒì´ ìŠ¤íƒ í”„ë ˆì„ ë‚´ë¶€ì— ì €ì¥ë˜ì–´ ìˆë‹¤.**

ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í•´ ê²°ê³¼ë¥¼ ì‚´í´ë³´ì.

* `task1`, `task2` ì—°ì‚°ì´ ë§ˆë¬´ë¦¬ ë˜ê¸° ì „ì— ë©”ì¸ ìŠ¤ë ˆë“œì—ì„œ ê°’ì„ ê³„ì‚°í•˜ê¸° ë•Œë¬¸ì—, \
  ê²°ê³¼ ê°’ìœ¼ë¡œ `0`ì„ ì¶œë ¥ í•˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

```java
import static util.MyLogger.log;
import static util.ThreadUtils.sleep;

public class JoinMainV1 {
    public static void main(String[] args) {
        log("start");

        SumTask task1 = new SumTask(1, 50);
        SumTask task2 = new SumTask(51, 100);
        Thread thread1 = new Thread(task1, "thread-1");
        Thread thread2 = new Thread(task2, "thread-2");

        thread1.start();
        thread2.start();

        log("task1.result = " + task1.result);
        log("task2.result = " + task2.result);

        int sumAll = task1.result + task2.result;
        log("task1 + task2 = " + sumAll);

        log("end");
    }

    static class SumTask implements Runnable {

        int startValue;
        int endValue;
        int result = 0;

        public SumTask(int startValue, int endValue) {
            this.startValue = startValue;
            this.endValue = endValue;
        }

        @Override
        public void run() {
            log("ì‘ì—… ì‹œì‘");
            sleep(2000);
            int sum = 0;
            for(int i=startValue;i<endValue;i++) {
                sum += i;
            }

            result = sum;
            log("ì‘ì—… ì™„ë£Œ result = " + result);
        }
    }
}
```

<figure><img src="../../../../.gitbook/assets/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-09 19.47.07.png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../.gitbook/assets/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-09 19.48.35.png" alt=""><figcaption></figcaption></figure>

### join() - sleep() ì‚¬ìš©&#x20;

íŠ¹ì • ìŠ¤ë ˆë“œë¥¼ ê¸°ë‹¤ë¦¬ê²Œ í•˜ëŠ” ê°€ì¥ ê°„ë‹¨í•œ ë°©ë²•ì€ `sleep()` ì„ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

**í•˜ì§€ë§Œ ì´ë ‡ê²Œ `sleep()` ì„ ì‚¬ìš©í•´ì„œ ë¬´ì‘ì •(?) ê¸°ë‹¤ë¦¬ëŠ” ë°©ë²•ì€ ëŒ€ê¸° ì‹œê°„ì— ì†í•´ë„ ë³´ê³ ,**\
&#xNAN;**`thread-1`, `thread-2` ìˆ˜í–‰ ì‹œê°„ì´ ë‹¬ë¼ì§€ëŠ” ê²½ìš°ì—ëŠ” ì •í™•í•œ íƒ€ì´ë°ì„ ë§ì¶”ê¸° ì–´ë µë‹¤.**

```java
import static util.MyLogger.log;
import static util.ThreadUtils.sleep;

public class JoinMainV2 {
    public static void main(String[] args) {
        log("start");

        SumTask task1 = new SumTask(1, 50);
        SumTask task2 = new SumTask(51, 100);
        Thread thread1 = new Thread(task1, "thread-1");
        Thread thread2 = new Thread(task2, "thread-2");

        thread1.start();
        thread2.start();

        // ì •í™•í•œ íƒ€ì´ë°ì„ ë§ì¶”ê¸°ê°€ ì–´ë µë‹¤.
        log("main ìŠ¤ë ˆë“œ sleep()");
        sleep(3000);
        log("main ìŠ¤ë ˆë“œ ê¹¨ì–´ë‚¨");

        log("task1.result = " + task1.result);
        log("task2.result = " + task2.result);

        int sumAll = task1.result + task2.result;
        log("task1 + task2 = " + sumAll);

        log("end");
    }

    static class SumTask implements Runnable {

        int startValue;
        int endValue;
        int result = 0;

        public SumTask(int startValue, int endValue) {
            this.startValue = startValue;
            this.endValue = endValue;
        }

        @Override
        public void run() {
            log("ì‘ì—… ì‹œì‘");
            sleep(2000);
            int sum = 0;
            for(int i=startValue; i<=endValue; i++) {
                sum += i;
            }

            result = sum;
            log("ì‘ì—… ì™„ë£Œ result = " + result);
        }
    }
}

```

<figure><img src="../../../../.gitbook/assets/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-09 19.56.30.png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../.gitbook/assets/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-09 19.56.45.png" alt=""><figcaption></figcaption></figure>

ë” ë‚˜ì€ ë°©ë²•ì€ `thread-1`, `thread-2` ê°€ ê³„ì‚°ì„ ëë‚´ê³  ì¢…ë£Œë  ë•Œ ê¹Œì§€ `main` ìŠ¤ë ˆë“œê°€ ê¸°ë‹¤ë¦¬ëŠ” ë°©ë²•ì´ë‹¤.

* ex, `main` ìŠ¤ë ˆë“œê°€ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•´ì„œ `thread-1`, `thread-2` ì˜ ìƒíƒœê°€ `TERMINATED` ê°€ ë  ë•Œê¹Œì§€ ê³„ì† í™•ì¸í•˜ëŠ” ë°©ë²•ì´ ìˆë‹¤.&#x20;

```java
while(thread1.getState() != TERMINATED
     && thread2.getState() != TERMINATED) {
    // ... 
}
```

í•˜ì§€ë§Œ **ì´ëŸ° ë°©ë²•ì€ ë²ˆê±°ë¡­ê³  ë˜ ê³„ì†ë˜ëŠ” ë°˜ë³µë¬¸ì€ CPU ì—°ì‚°ì„ ì‚¬ìš©í•œë‹¤.**&#x20;

**ì´ ë•Œ, `join()` ë©”ì„œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ì œê°€ ê¹”ë”í•˜ê²Œ í•´ê²°ëœë‹¤.**

### join() - join() ì‚¬ìš©

ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í•´ë³´ì.&#x20;

`main` ìŠ¤ë ˆë“œëŠ” `join()` ì„ ì‹¤í–‰í•˜ê²Œ ë˜ë©´, `thread-1`, `thread-2` ê°€ ì¢…ë£Œë  ë•Œ ê¹Œì§€ ê¸°ë‹¤ë¦°ë‹¤.

* ë§Œì•½ ì¼ì • ì‹œê°„ë§Œí¼ë§Œ ëŒ€ê¸°í•˜ê³  ì‹¶ë‹¤ë©´ `join(ms)` ë©”ì„œë“œë¥¼ í˜¸ì¶œí•˜ì.
* ì´ ë•Œ, `main` ìŠ¤ë ˆë“œëŠ” `WAITING` ìƒíƒœê°€ ëœë‹¤.

> #### Waiting (ëŒ€ê¸° ìƒíƒœ)&#x20;
>
> ìŠ¤ë ˆë“œê°€ ë‹¤ë¥¸ ìŠ¤ë ˆë“œì˜ íŠ¹ì • ì‘ì—…ì´ ì™„ë£Œë˜ê¸°ë¥¼ ë¬´í•œíˆ ê¸°ë‹¤ë¦¬ëŠ” ìƒíƒœì´ë‹¤.
>
> `join()` ì„ í˜¸ì¶œí•˜ëŠ” ìŠ¤ë ˆë“œëŠ” ëŒ€ìƒ ìŠ¤ë ˆë“œê°€ `TERMINATED` ìƒíƒœê°€ ë  ë•Œê¹Œì§€ ëŒ€ê¸°í•œë‹¤.
>
> ëŒ€ìƒ ìŠ¤ë ˆë“œê°€ `TERMINATED` ê°€ ë˜ë©´ í˜¸ì¶œ ìŠ¤ë ˆë“œëŠ” ë‹¤ì‹œ `RUNNABLE` ìƒíƒœê°€ ë˜ê³  ë‹¤ìŒ ì½”ë“œë¥¼ ì§„í–‰í•œë‹¤.

```java
import static util.MyLogger.log;
import static util.ThreadUtils.sleep;

public class JoinMainV3 {
    public static void main(String[] args) throws InterruptedException {
        log("start");

        SumTask task1 = new SumTask(1, 50);
        SumTask task2 = new SumTask(51, 100);
        Thread thread1 = new Thread(task1, "thread-1");
        Thread thread2 = new Thread(task2, "thread-2");

        thread1.start();
        thread2.start();

        // ìŠ¤ë ˆë“œê°€ ì¢…ë£Œë  ë•Œê¹Œì§€ ëŒ€ê¸°
        log("join() - main ìŠ¤ë ˆë“œê°€ thread1, thread2 ì¢…ë£Œê¹Œì§€ ëŒ€ê¸°");
        thread1.join();
        thread2.join();
        log("main ìŠ¤ë ˆë“œ ëŒ€ê¸° ì™„ë£Œ");

        log("task1.result = " + task1.result);
        log("task2.result = " + task2.result);

        int sumAll = task1.result + task2.result;
        log("task1 + task2 = " + sumAll);

        log("end");
    }

    static class SumTask implements Runnable {

        int startValue;
        int endValue;
        int result = 0;

        public SumTask(int startValue, int endValue) {
            this.startValue = startValue;
            this.endValue = endValue;
        }

        @Override
        public void run() {
            log("ì‘ì—… ì‹œì‘");
            sleep(2000);
            int sum = 0;
            for(int i=startValue; i<=endValue; i++) {
                sum += i;
            }

            result = sum;
            log("ì‘ì—… ì™„ë£Œ result = " + result);
        }
    }
}

```

<figure><img src="../../../../.gitbook/assets/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-09 20.03.39.png" alt=""><figcaption></figcaption></figure>

<figure><img src="../../../../.gitbook/assets/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2024-10-09 20.03.54.png" alt=""><figcaption></figcaption></figure>
