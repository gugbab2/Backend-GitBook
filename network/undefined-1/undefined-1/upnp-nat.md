# UPnP 와 NAT

## UPnP

* 우리가 토렌트와 같은 P2P서비스를 사용할 때, 따로 공유기 설정을 바꾸어주지 않아도 된다. 왜그럴까?\
  \-> **보통의 모든 공유기가 UPnP 기능을 제공하기 때문이다.**&#x20;

#### PnP (Plug and Play)

* 과거 인터페이스를 꽂기만 하면 동작하는 방식 \
  \-> ex) usb
* 이게 없던 시절에는, 하드웨어를 실행하기 위해서 드라이버를 따로 설치해야만 동작했다.&#x20;

#### UPnP

* 예를 들어, 외부 서버에서 내부 서버의 프린트를 제어하는 경우를 생각해보자.
* 기존의 경우에는, 외부의 트래픽이 NAT-table 정책에 따라 막혀있어, 포트 포워딩을 해 정책을 열어줘야 할 것이다.&#x20;
* **이런 복잡한 프로세스를 자동화 해준 것이 UPnP 이다.**&#x20;
* **UPnP 에 따라다니는 스펙이 SSDP 이다.** \
  **-> 토렌트는 SSDP 를 제공한다.**  \
  **-> SSDP 기능을 가지고 있는 토렌트가 파일을 다운로드 받고자 할 때, UPnP 기능을 제공하는 공유기에 P2P 통신에 대한 설정을 요청하게 되고, 공유기는 해당 설정 정보를 NAT-table 레코드로 등록을 해 정상적인 통신이 되도록 한다. (포트 포워딩 자동화)**
