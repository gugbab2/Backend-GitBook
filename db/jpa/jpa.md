# JPA 란?

## ORM 이란?

* 객체 관계 매핑(Object relational mapping)
* 객체는 객체대로 설계
* 관계형 DB 는 관계형 DB 대로 설계&#x20;
* ORM 프레임워크가 중간에서 매핑해 주는 것으로, 패러다임 불일치를 해결한다.&#x20;
*   JPA 는 어플리케이션과 JDBC 사이에서 동작한다.&#x20;

    <figure><img src="../../.gitbook/assets/스크린샷 2023-06-25 19.31.33.png" alt="" width="375"><figcaption></figcaption></figure>

## JPA 소개&#x20;

* EJB-엔티티빈(자바 표준)   =>   하이버네이트(오픈소스)   =>   JPA(자바표준)

### JPA 를 왜 사용해야 하는가?

* SQL 중심적인 개발에서 객체 중심으로 개발
* 생산성, 유지보수 상승
* 패러다임 불일치 해결
  * 상속
  * 연관관계
  * 객체 그래프 탐색
  * 신뢰할 수 있는 엔티티
* 성능최적화 기능 제공
  * **1차 캐시와 동일성 보장**
    * 같은 트랜잭션 안에서는 같은 엔티티를 반환한다 \
      \-> 약간의 조회 성능이 향상된다. (Buffer Writing, Casing)
  * **트랜잭션을 지원하는 쓰기 지연**
    * 트랜잭션을 커밋 할 때까지, Insert SQL 을 모음
    * JDBC BATCH SQL 기능을 사용해서 한번에 SQL 전송
  * 지연로딩과 즉시로딩\
    \-> **상황마다 다르기 때문이다..!**\
    **-> 셋팅을 통해서 지연로딩, 즉시로딩을 지정할 수 있다.**&#x20;
    * 지연로딩 : 객체가 실제 사용될 때 로딩
    * 즉시로딩 : JOIN SQL 로 한번에 연관된 객체까지 미리 조회

<figure><img src="../../.gitbook/assets/스크린샷 2023-06-25 19.46.12.png" alt="" width="563"><figcaption></figcaption></figure>
