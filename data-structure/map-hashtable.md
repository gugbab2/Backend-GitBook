# Map / HashTable

## 1. Map

* 키와 값의 형태로 구현된다.
* Map 의 구현체
  * hash table
  * tree-based

## 2. Hash Table

* 배열과 해시함수를 사용하여 map 을 구현한 자료구조\
  \-> 일반적으로 상수시간에 데이터에 접근하기에 빠름 \
  \-> 상수시간 : 데이터를 접근하는데 걸리는 시간이 똑같다.&#x20;

### 2-1. Hash Function

* 임의의 크기를 가지고 type 의 데이터를 고정된 크기를 가지는 type 의 데이터로 변환하는 함수\
  \-> hash table 에서 임의의 데이터를 정수로 변환하는 함수\
  **-> 어떠한 객체가 들어와도 이에 대응하는 인덱스(정수)를 생성한다.**\
  **-> 인덱스를 해시라고 부른다.**&#x20;
* **해시테이블 동작 방식**
  * **해시 함수로 생성된 인덱스를 capacity 로 나눈 나머지 값의 인덱스에 값을 배치한다.**&#x20;
  * 해시충돌로 인한 데이터 정합성이 깨질 수 있기 때문에, **값을 저장할 때 키값과 함께 저장한다.**&#x20;
  * 만약 값을 가져올 때, **키 값이 일치하지 않는다면 값을 가져올 수 없다.**&#x20;
* **해시충돌**
  * **해시충돌은 피할 수 없는 일이다..** \
    **-> 넓은 범위의 값을 해시함수를 통해서 좁은 범위의 값이 나오기 때문에 해시충돌은 피할 수 없다.** \
    **-> 때문에, 최대한 output 이 균등하게 나오도록 하는 것이 중요하다.**&#x20;

### **2-2. 해시충돌 해결방법**

* Separate chaining\
  \-> 자바에서 사용하는 방식
  * 버켓 하나하나를 링크드 리스트로 관리한다.&#x20;
  * 이를 통해서 해시 충돌이 발생했을 때, 리스트의 형태로 버켓을 관리하여 해시 충돌을 방어할 수 있다.&#x20;
  * 값을 통해서 데이터를 찾을 때는, 해시함수를 사용하지 않기 때문에, 풀스캔을 해야한다.&#x20;
* Open addresing(linear probing)\
  \-> 파이썬에서 사용하는 방식
  * 해시충돌이 일어난다면 다음 버킷의 데이터를 저장하고,
  * 만약 조회 시 해시충돌이 일어난 것으로 판단된다면 다음 버킷을 찾아본다.&#x20;

### 2-3. Hash table resizing

* 자바에서는 로드백터라는 것이 있는데, 해당 값(비율) 을 넘어간다면 2배 사이즈로 늘려준다. \
  \-> 보통 자바에서 로드팩터는 0.75 가 default 로 설정되어 있다.&#x20;
* 처음 버킷에 데이터를 저장할 때, 키 / 값 말고도 **해시값을 저장한다.**\
  **-> 더 빠른 속도로 리사이징 할 수 있도록!**



